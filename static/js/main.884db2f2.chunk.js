(this["webpackJsonpnews-react"]=this["webpackJsonpnews-react"]||[]).push([[0],{135:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(18),s=n.n(a),c=n(10),i=n(31),o=n.n(i),l=n(23),u=n.n(l),j=n(28),h=n(61),d={currentCountry:null,newsList:[],sources:[],searchQuery:""},b=n(5),m="SELECT_COUNTRY",p="FETCH_NEWS",O="FETCH_SOURCES",x="SEARCH",y=function(e){return{type:p,newsList:e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(b.a)(Object(b.a)({},e),{},{newsList:t.newsList});case m:return Object(b.a)(Object(b.a)({},e),{},{currentCountry:t.currentCountry});case O:return Object(b.a)(Object(b.a)({},e),{},{sources:t.sources});case x:return Object(b.a)(Object(b.a)({},e),{},{searchQuery:t.searchQuery});default:return e}},v=Object(j.c)(f,d,Object(j.a)(h.a)),g=n(8),N=n(9),C=n(12),L=n(11),_=n(21),w=n(6),k=n(32),S=n(1),M=function(e){Object(C.a)(n,e);var t=Object(L.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(k.a)(r)),r}return Object(N.a)(n,[{key:"render",value:function(){return Object(S.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light sticky-top",children:[Object(S.jsx)(_.b,{to:"/",className:"navbar-brand",children:"Map News React"}),Object(S.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(S.jsx)("span",{className:"navbar-toggler-icon"})}),Object(S.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(S.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(_.b,{to:"/",className:"nav-link",children:"Carte"})}),Object(S.jsx)("li",{children:Object(S.jsx)("span",{className:"badge badge-info",children:this.props.currentCountry})}),this.props.currentCountry?Object(S.jsxs)(r.Fragment,{children:[Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(_.b,{to:"/top",className:"nav-link",children:"Top"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(_.b,{to:"/all",className:"nav-link",children:"All news"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(_.b,{to:"/sources",className:"nav-link",children:"Sources"})})]}):""]}),Object(S.jsxs)("form",{className:"form-inline my-2 my-lg-0",onSubmit:this.handleSubmit,children:[Object(S.jsx)("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Recherche","aria-label":"Recherche",value:this.props.searchQuery,onChange:this.props.changeSearchQuery}),Object(S.jsx)("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit",children:"Rechercher"})]})]})]})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.history.push("/search")}}]),n}(r.Component),F=Object(w.g)(Object(c.b)((function(e){return{currentCountry:e.currentCountry,searchQuery:e.searchQuery}}),(function(e){return{changeSearchQuery:function(t){var n;e((n=t.target.value,{type:x,searchQuery:n}))}}}))(M)),D=n(22);function E(){var e=Object(r.useState)(0),t=Object(D.a)(e,2),n=t[0];t[1];return Object(r.useEffect)((function(){document.title="Vous avez cliqu\xe9 ".concat(n)})),Object(S.jsxs)("footer",{className:"bg-light",children:[Object(S.jsx)("div",{className:"container p-0 pt-3",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsxs)("div",{className:"col-lg-6 col-md-12 mb-4 mb-md-0",children:[Object(S.jsx)("h5",{className:"text-uppercase",children:"Footer Content"}),Object(S.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam voluptatem veniam, est atque cumque eum delectus sint!"})]}),Object(S.jsxs)("div",{className:"col-lg-3 col-md-6 mb-4 mb-md-0",children:[Object(S.jsx)("h5",{className:"text-uppercase",children:"Links"}),Object(S.jsxs)("ul",{className:"list-unstyled mb-0",children:[Object(S.jsx)("li",{children:Object(S.jsx)("a",{href:"#!",children:"Link 1"})}),Object(S.jsx)("li",{children:Object(S.jsx)("a",{href:"#!",children:"Link 2"})}),Object(S.jsx)("li",{children:Object(S.jsx)("a",{href:"#!",children:"Link 3"})}),Object(S.jsx)("li",{children:Object(S.jsx)("a",{href:"#!",children:"Link 4"})})]})]}),Object(S.jsxs)("div",{className:"col-lg-3 col-md-6 mb-4 mb-md-0",children:[Object(S.jsx)("h5",{className:"text-uppercase mb-0",children:"Links"}),Object(S.jsxs)("ul",{className:"list-unstyled",children:[Object(S.jsx)("li",{children:Object(S.jsx)("a",{href:"#!",children:"Link 1"})}),Object(S.jsx)("li",{children:Object(S.jsx)("a",{href:"#!",children:"Link 2"})}),Object(S.jsx)("li",{children:Object(S.jsx)("a",{href:"#!",children:"Link 3"})}),Object(S.jsx)("li",{children:Object(S.jsx)("a",{href:"#!",children:"Link 4"})})]})]})]})}),Object(S.jsxs)("div",{className:"text-center p-3",children:[Object(S.jsx)("span",{children:"\xa9 2020 Copyright - "}),Object(S.jsx)("a",{className:"text-dark",href:"https://www.dubus-cedric.fr/",children:"dubus-cedric.fr"})]})]})}n(144);var T=[{iso:"ae",name:"The United Arab Emirates"},{iso:"ar",name:"Argentina"},{iso:"at",name:"Austria"},{iso:"au",name:"Autriche"},{iso:"bg",name:"Bulgaria"},{iso:"be",name:"Belgium"},{iso:"br",name:"Brazil"},{iso:"ca",name:"Canada"},{iso:"ch",name:"Switzerland"},{iso:"cn",name:"China"},{iso:"co",name:"Colombia"},{iso:"cu",name:"Cuba"},{iso:"cz",name:"Czechia"},{iso:"de",name:"Germany"},{iso:"eg",name:"Egypt"},{iso:"fr",name:"France"},{iso:"gb",name:"United Kingdom"},{iso:"gr",name:"Greece"},{iso:"hk",name:"Hong Kong"},{iso:"hu",name:"Hungary"},{iso:"id",name:"Indonesia"},{iso:"ie",name:"Ireland"},{iso:"il",name:"Israel"},{iso:"in",name:"India"},{iso:"it",name:"Italy"},{iso:"jp",name:"Japan"},{iso:"kr",name:"Korea"},{iso:"lt",name:"Lithuania"},{iso:"lv",name:"Latvia"},{iso:"ma",name:"Morocco"},{iso:"mx",name:"Mexico"},{iso:"my",name:"Malaysia"},{iso:"ng",name:"Nigeria"},{iso:"nl",name:"Netherlands"},{iso:"no",name:"Norway"},{iso:"nz",name:"New Zealand"},{iso:"ph",name:"Philippines"},{iso:"pl",name:"Poland"},{iso:"pt",name:"Portugal"},{iso:"ro",name:"Romania"},{iso:"rs",name:"Serbia"},{iso:"ru",name:"Russia"},{iso:"sa",name:"Saudi Arabia"},{iso:"se",name:"Sweden"},{iso:"sg",name:"Singapore"},{iso:"si",name:"Slovenia"},{iso:"sk",name:"Slovakia"},{iso:"th",name:"Thailand"},{iso:"tr",name:"Turkey"},{iso:"tw",name:"Taiwan"},{iso:"ua",name:"Ukraine"},{iso:"us",name:"United States of America"},{iso:"ve",name:"Venezuela"},{iso:"za",name:"South Africa"}];var A=function(e){Object(C.a)(n,e);var t=Object(L.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(N.a)(n,[{key:"render",value:function(){return Object(S.jsxs)("div",{className:"card",children:[this.props.news.urlToImage?Object(S.jsx)("img",{className:"card-img-top",src:this.props.news.urlToImage,alt:"Card image cap"}):"",Object(S.jsxs)("div",{className:"card-body",children:[Object(S.jsx)("h5",{className:"card-title",children:this.props.news.title}),Object(S.jsx)("p",{className:"card-text",children:this.props.news.description}),Object(S.jsx)("a",{href:this.props.news.url,target:"_blank",className:"btn btn-primary",children:"Lire l'article"}),Object(S.jsx)("p",{className:"card-text",children:Object(S.jsx)("small",{className:"text-muted",children:o()(this.props.news.publishedAt).format("LLLL")})})]})]})}}]),n}(r.Component);function Y(){return Object(S.jsx)("div",{className:"d-flex justify-content-center my-4",children:Object(S.jsx)("div",{className:"spinner-grow text-primary",style:{width:"5rem",height:"5rem"},role:"status"})})}var z=n(66),H=n.n(z),Q=function(e){Object(C.a)(n,e);var t=Object(L.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(N.a)(n,[{key:"render",value:function(){var e=this.props.newsList.map((function(e,t){return Object(S.jsx)(A,{news:e},t)}));return Object(S.jsx)(r.Fragment,{children:e.length<=0?Object(S.jsx)(r.Fragment,{children:Object(S.jsx)(Y,{})}):Object(S.jsx)("div",{className:"card-columns",children:e})})}},{key:"componentDidMount",value:function(){this.props.fetchNews(this.props.currentCountry,this.props.source,this.props.query)}}]),n}(r.Component),q=Object(c.b)((function(e){return{newsList:e.newsList,currentCountry:e.currentCountry}}),(function(e){return{fetchNews:function(t,n,r){e(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(r){var a="https://newsapi.org/v2/";switch(t){case"everything":a+="everything";break;case"search":a+="everything?q=".concat(n);break;default:case"top-headlines":a+="top-headlines"}"search"!==t&&(a+=(a.indexOf("?")>=0?"&":"?")+"country=".concat(e));var s={httpsAgent:new H.a("https://cors-anywhere.herokuapp.com/")};u.a.get(a,s).then((function(e){r(y(e.data.articles))})).catch((function(e){console.error(e)}))}}(t,n,r))}}}))(Q);function J(){return Object(S.jsx)(r.Fragment,{children:Object(S.jsx)("div",{className:"container my-4",children:Object(S.jsx)(q,{source:"top-headlines"})})})}function I(){return Object(S.jsx)(r.Fragment,{children:Object(S.jsx)("div",{className:"container my-4",children:Object(S.jsx)(q,{source:"everything"})})})}function R(e){return Object(S.jsx)("div",{className:"card",children:Object(S.jsxs)("div",{className:"card-body",children:[Object(S.jsx)("h5",{className:"card-title",children:e.source.name}),Object(S.jsx)("p",{className:"card-text",children:e.source.description}),Object(S.jsx)("a",{href:e.source.url,target:"_blank",className:"btn btn-secondary",children:"Tous les articles"}),Object(S.jsx)("a",{href:e.source.url,target:"_blank",className:"btn btn-primary",children:"Site web"})]})})}var P=function(e){return function(t){var n="https://newsapi.org/v2/sources?country=".concat(e);u.a.get(n,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var n;t((n=e.data.sources,{type:O,sources:n}))})).catch((function(e){console.error(e)}))}},B=function(e){Object(C.a)(n,e);var t=Object(L.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(N.a)(n,[{key:"render",value:function(){var e=this.props.sources.map((function(e,t){return Object(S.jsx)(R,{source:e},t)}));return Object(S.jsx)(r.Fragment,{children:e.length<=0?Object(S.jsx)("p",{children:"Aucune sources \xe0 afficher pour ce pays."}):Object(S.jsx)("div",{className:"card-columns",children:e})})}},{key:"componentDidMount",value:function(){this.props.fetchSources(this.props.currentCountry)}}]),n}(r.Component),U=Object(c.b)((function(e){return{currentCountry:e.currentCountry,sources:e.sources}}),(function(e){return{fetchSources:function(t){e(P(t))}}}))(B);function K(){return Object(S.jsx)(r.Fragment,{children:Object(S.jsx)("div",{className:"container my-4",children:Object(S.jsx)(U,{})})})}var W=function(e){Object(C.a)(n,e);var t=Object(L.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(N.a)(n,[{key:"render",value:function(){return Object(S.jsx)(r.Fragment,{children:Object(S.jsxs)("div",{className:"container my-4",children:["Resultat de recherche ",this.props.searchQuery,Object(S.jsx)(q,{source:"search",query:this.props.searchQuery})]})})}}]),n}(r.Component),V=Object(c.b)((function(e){return{searchQuery:e.searchQuery}}))(W),G=n(141),Z=n(145),X=n(142),$=n(143),ee=n(42),te=n.n(ee),ne=function(e){Object(C.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={geoJson:[],currentLayer:null},a.geoJsonLayer=Object(r.createRef)(),a}return Object(N.a)(n,[{key:"render",value:function(){return Object(S.jsxs)(G.a,{center:[48.866667,2.333333],zoom:5,scrollWheelZoom:!1,style:{width:"100%",height:"800px"},children:[Object(S.jsx)(Z.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(S.jsx)(X.a,{children:Object(S.jsx)($.a,{ref:this.geoJsonLayer,data:this.state.geoJson,onEachFeature:this.onEachFeature.bind(null,this),style:{stroke:!0,weight:2,color:"black",fillColor:"#b71540"}})})]})}},{key:"componentDidMount",value:function(){this.createFeatures()}},{key:"componentDidUpdate",value:function(){for(var e in this.geoJsonLayer.current._layers)this.geoJsonLayer.current._layers[e].feature.properties.iso_code===this.props.currentCountry?this.geoJsonLayer.current._layers[e].setStyle({fillColor:"yellow"}):this.geoJsonLayer.current._layers[e].setStyle({fillColor:"#b71540"})}},{key:"onEachFeature",value:function(e,t,n){n.on("click",(function(t){e.props.selectCountry(n.feature.properties.iso_code)}))}},{key:"createFeatures",value:function(){var e=[];T.forEach((function(t){te.a.features.forEach((function(n){n.properties.name.toLowerCase().indexOf(t.name.toLowerCase())>=0&&(n.properties.iso_code=t.iso,e.push(n))}))})),this.setState(Object(b.a)(Object(b.a)({},this),{},{geoJson:Object(b.a)(Object(b.a)({},te.a),{},{features:e})}))}}]),n}(r.Component),re=Object(c.b)((function(e){return{currentCountry:e.currentCountry}}),(function(e){return{selectCountry:function(t){e({type:m,currentCountry:t})}}}))(ne);function ae(){return Object(S.jsx)(r.Fragment,{children:Object(S.jsxs)("div",{className:"my-4",children:[Object(S.jsx)(re,{}),Object(S.jsx)("div",{className:"container mt-4",children:Object(S.jsx)("p",{children:"Choisissez sur la carte le pays pour lequel vous souhaitez voir les actualit\xe9s."})})]})})}function se(){return Object(S.jsx)("div",{className:"container my-4",children:"Not found"})}var ce=function(e){Object(C.a)(n,e);var t=Object(L.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(N.a)(n,[{key:"render",value:function(){return Object(S.jsxs)(_.a,{children:[Object(S.jsx)("link",{rel:"stylesheet",href:"https://unpkg.com/leaflet@1.6.0/dist/leaflet.css",integrity:"sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==",crossOrigin:""}),Object(S.jsx)(F,{}),Object(S.jsxs)(w.d,{children:[Object(S.jsx)(w.b,{path:"/all",children:this.props.currentCountry?Object(S.jsx)(I,{}):Object(S.jsx)(w.a,{to:"/"})}),Object(S.jsx)(w.b,{path:"/sources",children:this.props.currentCountry?Object(S.jsx)(K,{}):Object(S.jsx)(w.a,{to:"/"})}),Object(S.jsx)(w.b,{path:"/search",children:Object(S.jsx)(V,{})}),Object(S.jsx)(w.b,{path:"/top",children:this.props.currentCountry?Object(S.jsx)(J,{}):Object(S.jsx)(w.a,{to:"/"})}),Object(S.jsx)(w.b,{exact:!0,path:"/",children:Object(S.jsx)(ae,{})}),Object(S.jsx)(w.b,{path:"*",children:Object(S.jsx)(se,{})})]}),Object(S.jsx)(E,{})]})}}]),n}(r.Component),ie=Object(c.b)((function(e){return{currentCountry:e.currentCountry}}))(ce),oe={months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e){return e+(1===e?"er":"e")},meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},week:{dow:1,doy:4}};n(134);o.a.updateLocale("fr",oe),u.a.defaults.headers.common={Authorization:"Bearer ".concat("e1b15dcb1ae24da1b49661156a5e7d0e")},s.a.render(Object(S.jsx)(c.a,{store:v,children:Object(S.jsx)(ie,{})}),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.884db2f2.chunk.js.map